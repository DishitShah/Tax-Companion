{"ast":null,"code":"import axios from './api';\nimport AuthService from './authService';\nclass DocumentService {\n  constructor() {\n    this.token = AuthService.getToken();\n  }\n  getHeaders() {\n    return {\n      'Authorization': `Bearer ${this.token}`,\n      'Content-Type': 'multipart/form-data'\n    };\n  }\n  async uploadDocument(file, metadata) {\n    const formData = new FormData();\n    formData.append('file', file);\n    Object.keys(metadata).forEach(key => {\n      formData.append(key, metadata[key]);\n    });\n    try {\n      const response = await axios.post('/documents/upload', formData, {\n        headers: this.getHeaders()\n      });\n      return response.data;\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n  async getDocuments(filters = {}) {\n    try {\n      const response = await axios.get('/documents', {\n        headers: this.getHeaders(),\n        params: filters\n      });\n      return response.data;\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n  async getDocumentDetails(documentId) {\n    try {\n      const response = await axios.get(`/documents/${documentId}`, {\n        headers: this.getHeaders()\n      });\n      return response.data;\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n  async deleteDocument(documentId) {\n    try {\n      const response = await axios.delete(`/documents/${documentId}`, {\n        headers: this.getHeaders()\n      });\n      return response.data;\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n  async extractDocumentData(documentId) {\n    try {\n      const response = await axios.post(`/documents/${documentId}/extract`, {}, {\n        headers: this.getHeaders()\n      });\n      return response.data;\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n  handleError(error) {\n    var _error$response;\n    console.error('Document Service Error:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw error;\n  }\n}\nconst instance = new DocumentService();\nexport default instance;","map":{"version":3,"names":["axios","AuthService","DocumentService","constructor","token","getToken","getHeaders","uploadDocument","file","metadata","formData","FormData","append","Object","keys","forEach","key","response","post","headers","data","error","handleError","getDocuments","filters","get","params","getDocumentDetails","documentId","deleteDocument","delete","extractDocumentData","_error$response","console","message","instance"],"sources":["C:/Users/chira/OneDrive/Desktop/Tax companion/tax-companion-frontend/src/services/documentService.js"],"sourcesContent":["import axios from './api';\r\nimport AuthService from './authService';\r\n\r\nclass DocumentService {\r\n  constructor() {\r\n    this.token = AuthService.getToken();\r\n  }\r\n\r\n  getHeaders() {\r\n    return {\r\n      'Authorization': `Bearer ${this.token}`,\r\n      'Content-Type': 'multipart/form-data'\r\n    };\r\n  }\r\n\r\n  async uploadDocument(file, metadata) {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    Object.keys(metadata).forEach(key => {\r\n      formData.append(key, metadata[key]);\r\n    });\r\n\r\n    try {\r\n      const response = await axios.post('/documents/upload', formData, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async getDocuments(filters = {}) {\r\n    try {\r\n      const response = await axios.get('/documents', { headers: this.getHeaders(), params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async getDocumentDetails(documentId) {\r\n    try {\r\n      const response = await axios.get(`/documents/${documentId}`, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async deleteDocument(documentId) {\r\n    try {\r\n      const response = await axios.delete(`/documents/${documentId}`, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async extractDocumentData(documentId) {\r\n    try {\r\n      const response = await axios.post(`/documents/${documentId}/extract`, {}, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  handleError(error) {\r\n    console.error('Document Service Error:', error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n}\r\n\r\nconst instance = new DocumentService();\r\nexport default instance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}