{"ast":null,"code":"import axios from'./api';import AuthService from'./authService';class DocumentService{constructor(){this.token=AuthService.getToken();}getHeaders(){return{'Authorization':`Bearer ${this.token}`,'Content-Type':'multipart/form-data'};}async uploadDocument(file,metadata){const formData=new FormData();formData.append('file',file);Object.keys(metadata).forEach(key=>{formData.append(key,metadata[key]);});try{const response=await axios.post('/documents/upload',formData,{headers:this.getHeaders()});return response.data;}catch(error){this.handleError(error);}}async getDocuments(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const response=await axios.get('/documents',{headers:this.getHeaders(),params:filters});return response.data;}catch(error){this.handleError(error);}}async getDocumentDetails(documentId){try{const response=await axios.get(`/documents/${documentId}`,{headers:this.getHeaders()});return response.data;}catch(error){this.handleError(error);}}async deleteDocument(documentId){try{const response=await axios.delete(`/documents/${documentId}`,{headers:this.getHeaders()});return response.data;}catch(error){this.handleError(error);}}async extractDocumentData(documentId){try{const response=await axios.post(`/documents/${documentId}/extract`,{},{headers:this.getHeaders()});return response.data;}catch(error){this.handleError(error);}}handleError(error){var _error$response;console.error('Document Service Error:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);throw error;}}const instance=new DocumentService();export default instance;","map":{"version":3,"names":["axios","AuthService","DocumentService","constructor","token","getToken","getHeaders","uploadDocument","file","metadata","formData","FormData","append","Object","keys","forEach","key","response","post","headers","data","error","handleError","getDocuments","filters","arguments","length","undefined","get","params","getDocumentDetails","documentId","deleteDocument","delete","extractDocumentData","_error$response","console","message","instance"],"sources":["C:/Users/chira/OneDrive/Desktop/tax-companion-frontend/src/services/documentService.js"],"sourcesContent":["import axios from './api';\r\nimport AuthService from './authService';\r\n\r\nclass DocumentService {\r\n  constructor() {\r\n    this.token = AuthService.getToken();\r\n  }\r\n\r\n  getHeaders() {\r\n    return {\r\n      'Authorization': `Bearer ${this.token}`,\r\n      'Content-Type': 'multipart/form-data'\r\n    };\r\n  }\r\n\r\n  async uploadDocument(file, metadata) {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    Object.keys(metadata).forEach(key => {\r\n      formData.append(key, metadata[key]);\r\n    });\r\n\r\n    try {\r\n      const response = await axios.post('/documents/upload', formData, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async getDocuments(filters = {}) {\r\n    try {\r\n      const response = await axios.get('/documents', { headers: this.getHeaders(), params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async getDocumentDetails(documentId) {\r\n    try {\r\n      const response = await axios.get(`/documents/${documentId}`, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async deleteDocument(documentId) {\r\n    try {\r\n      const response = await axios.delete(`/documents/${documentId}`, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  async extractDocumentData(documentId) {\r\n    try {\r\n      const response = await axios.post(`/documents/${documentId}/extract`, {}, { headers: this.getHeaders() });\r\n      return response.data;\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  handleError(error) {\r\n    console.error('Document Service Error:', error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n}\r\n\r\nconst instance = new DocumentService();\r\nexport default instance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}